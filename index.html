<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>코딩 기초 연습 프로그램 — coding_practice</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 0;
    }
    .wrap {
      max-width: 1150px;
      margin: 24px auto;
      background: #ffffff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    h1 { font-size: 19px; margin: 0 0 8px 0; }
    p { font-size: 13px; margin: 4px 0; }
    .row { display: flex; flex-wrap: wrap; gap: 14px; margin-top: 12px; }
    .panel { flex: 1 1 350px; min-width: 0; }
    .panel-title { font-size: 13px; font-weight: 700; margin-bottom: 4px; }
    pre, textarea {
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      font-family: "Fira Code", Consolas, monospace;
      font-size: 12px;
      border: 1px solid #d1d5db;
      background: #0b1020;
      color: #e5e7eb;
      white-space: pre-wrap;
      box-sizing: border-box;
    }
    textarea { background: white; color: black; min-height: 200px; resize: vertical; }
    select { padding: 6px 8px; margin-bottom: 6px; font-size: 13px; }
    button {
      padding: 7px 12px;
      font-size: 12px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
    .run-btn { background: #2563eb; color: #fff; width: 100%; margin-top: 10px; }
    .code-word-btn {
      background: #e5e7eb; margin: 2px; color: #111;
    }
    #result {
      margin-top: 10px; padding: 10px;
      background: #0b1020; color: #e5e7eb;
      border-radius: 6px; white-space: pre-wrap; min-height: 120px;
    }
    .hint { font-size: 11px; color: #6b7280; margin-top: 4px; }
    footer { margin-top: 20px; font-size: 11px; text-align: center; color: #6b7280; }
  </style>
</head>

<body>
<div class="wrap">
  <h1>코딩 기초 연습 프로그램 (coding_practice)</h1>
  <p>다른 도구 코드에서 발췌한 예시 코드를 기반으로 연습하는 구조입니다.</p>

  <div class="row">
    <div class="panel">
      <div class="panel-title">① 예시 코드 선택</div>
      <select id="snippetSelect"></select>
      <pre id="exampleCode"></pre>
    </div>

    <div class="panel">
      <div class="panel-title">② 연습 코드</div>
      <textarea id="codeEditor"></textarea>
      <div class="hint">예시와 동일한 구조이지만 여기서 직접 고칠 수 있습니다.</div>
    </div>
  </div>

  <div class="row" style="margin-top: 18px;">
    <div class="panel">
      <div class="panel-title">③ 코딩 단어 버튼</div>
      <div id="code-buttons"></div>
      <div class="hint">
        단어를 누르면 코드 칸에 자동 입력됩니다.
      </div>
    </div>

    <div class="panel">
      <div class="panel-title">④ 실행 / 미리 보기 (before/after)</div>
      <button class="run-btn" id="runBtn">실행 / 미리보기</button>
      <div id="result">결과: 아직 실행하지 않았습니다.</div>
    </div>
  </div>
</div>

<footer>코딩 기초 연습 — 예시 코드 기반 + 단어 버튼 + 미리 보기</footer>

<script>
/* -------------------------
    1) 예시 코드 12개 정의
------------------------- */
const snippets = [
  {
    name: "문장 앞에 태그 붙이기",
    code: `function runExample(){
  const title = "OLED 소재 시장 보고서";
  const tag = "[WIC] ";
  return tag + title;
}`
  },
  {
    name: "문장 뒤에 버전 표시 붙이기",
    code: `function runExample(){
  const base = "반도체 패키징 자료";
  const ver = " v2.1";
  return base + ver;
}`
  },
  {
    name: "앞 10글자만 잘라 제목 만들기",
    code: `function runExample(){
  const text = "2025년 신규 고객 대상 안내 메일";
  return text.slice(0,10) + "...";
}`
  },
  {
    name: "문장 안 특정 단어 교체",
    code: `function runExample(){
  const txt = "OLED 보고서 안내";
  return txt.replace("OLED", "MicroLED");
}`
  },
  {
    name: "숫자 문자열 숫자로 변환",
    code: `function runExample(){
  const price = "4500";
  return Number(price) + 500;
}`
  },
  {
    name: "리스트 첫 3개만 보여주기",
    code: `function runExample(){
  const arr = ["A","B","C","D","E"];
  return arr.slice(0,3);
}`
  },
  {
    name: "문장 포함 여부 체크",
    code: `function runExample(){
  const text = "오늘 보고서 발송 완료";
  if(text.includes("보고서")) return "보고서 관련 문장";
  return "기타 문장";
}`
  },
  {
    name: "템플릿 문자열 조합",
    code: `function runExample(){
  const name = "홍길동";
  const item = "자료 안내";
  return \`\${name}님, \${item} 드립니다.\`;
}`
  },
  {
    name: "여러 값 합쳐 한 문장 만들기",
    code: `function runExample(){
  const a = "견적";
  const b = "문의";
  return a + " " + b;
}`
  },
  {
    name: "숫자 2개 더하기",
    code: `function runExample(){
  const x = 12;
  const y = 8;
  return x + y;
}`
  },
  {
    name: "조건문으로 분기",
    code: `function runExample(){
  const val = 5;
  if(val > 3) return "3보다 큼";
  return "3 이하";
}`
  },
  {
    name: "문장 끝에 고정 문자열 추가",
    code: `function runExample(){
  const base = "고객 요청 자료";
  return base + " (확인됨)";
}`
  }
];

/* -------------------------
    2) 단어 버튼 14개
------------------------- */
const codeWords = [
  "function ", "return ", "if (){\n\n}", "const ", "let ",
  "Number()", "String()", "slice()", "replace()", "includes()",
  "+", "=", "{}", "[]"
];

/* -------------------------
    3) DOM 요소
------------------------- */
const snippetSelect = document.getElementById("snippetSelect");
const exampleCodeEl = document.getElementById("exampleCode");
const codeEditorEl = document.getElementById("codeEditor");
const runBtn = document.getElementById("runBtn");
const resultEl = document.getElementById("result");
const btnContainer = document.getElementById("code-buttons");

/* -------------------------
    4) 초기 로딩
------------------------- */
snippets.forEach((snip, idx) => {
  const opt = document.createElement("option");
  opt.value = idx;
  opt.textContent = snip.name;
  snippetSelect.appendChild(opt);
});

function loadSnippet(idx){
  const sn = snippets[idx];
  exampleCodeEl.textContent = sn.code;
  codeEditorEl.value = sn.code;
  resultEl.textContent = "결과: 아직 실행하지 않았습니다.";
}

loadSnippet(0);

snippetSelect.addEventListener("change", ()=>{
  loadSnippet(snippetSelect.value);
});

/* -------------------------
    5) 단어 버튼 생성
------------------------- */
codeWords.forEach(word=>{
  const btn = document.createElement("button");
  btn.className = "code-word-btn";
  btn.textContent = word;
  btn.addEventListener("click", ()=>{
    codeEditorEl.value += word;
    codeEditorEl.focus();
  });
  btnContainer.appendChild(btn);
});

/* -------------------------
    6) 실행 / 미리보기
------------------------- */
runBtn.addEventListener("click", ()=>{
  const code = codeEditorEl.value;

  try {
    const runner = new Function(code + "\nreturn typeof runExample==='function'?runExample:null;");
    const fn = runner();
    if(!fn){
      resultEl.textContent = "결과: runExample() 함수가 없습니다.";
      return;
    }
    const before = "(before)\n" + code;
    const after = "(after)\n" + String(fn());
    resultEl.textContent = before + "\n\n---------------------\n\n" + after;
  } catch(e){
    resultEl.textContent = "코드 오류:\n" + e;
  }
});
</script>
</body>
</html>
